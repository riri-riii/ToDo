<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>ICS取り込み設定</title>
  <style>
    :root{
      --border:#e5e7eb;
      --muted:#6b7280;
      --bg:#ffffff;
      --bg-soft:#f9fafb;
      --danger-bg:#fff1f2;
      --danger-border:#fecaca;
    }
    *{box-sizing:border-box}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans JP",sans-serif; margin:16px; color:#111827; background:#fff;}
    .wrap{max-width:920px; margin:0 auto;}
    h1{font-size:28px; margin:4px 0 16px;}
    .row{display:flex; gap:10px; align-items:center; margin-bottom:16px; flex-wrap:wrap;}
    .btn{
      cursor:pointer; padding:10px 14px; border-radius:10px; border:1px solid var(--border);
      background:#fff; display:inline-flex; align-items:center; justify-content:center; line-height:1; white-space:nowrap;
      transition:background .15s ease, box-shadow .15s ease, transform .02s ease;
    }
    .btn:hover{background:var(--bg-soft)}
    .btn:active{transform:translateY(1px)}
    .btn-danger{background:var(--danger-bg); border-color:var(--danger-border);}
    .btn-danger:hover{background:#ffe4e6;}
    .muted{color:var(--muted);}

    /* リスト表示 */
    ul{list-style:none; padding:0; margin:16px 0;}
    li{
      display:grid;
      grid-template-columns: 1fr max-content; /* URL を広く、ボタンは必要分だけ */
      align-items:center;
      gap:12px;
      border:1px solid var(--border);
      border-radius:12px;
      padding:12px;
      margin-bottom:12px;
      background:#fff;
    }
    .url{
      padding:12px;
      border:1px dashed var(--border);
      border-radius:10px;
      background:var(--bg-soft);
      font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
      font-size:13px;
      line-height:1.5;
      /* 長いURL対策 */
      overflow-wrap:anywhere;
      word-break:break-word;
      white-space:normal;
    }
    .actions{display:flex; gap:8px;}
    .actions .btn{min-width:120px;}

    /* モバイルでは縦積み */
    @media (max-width: 640px){
      li{grid-template-columns: 1fr;}
      .actions{justify-self:start; margin-top:8px;}
      .url{font-size:12px;}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>ICS取り込み設定</h1>

    <div class="row">
      <button id="btnAdd" class="btn">カレンダーの新規取り込み</button>
      <button id="btnBack" class="btn">ガントへ戻る</button>
    </div>

    <h2 class="muted" style="font-size:16px; font-weight:600; margin:0 0 8px;">取り込み設定中のカレンダー一覧</h2>
    <ul id="icsList"></ul>
  </div>

  <script type="module" src="/src/ics_setting.js"></script>
</body>
</html>
